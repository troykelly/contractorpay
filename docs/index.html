<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contractor Pay Estimator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container layout">
        <div class="form-section">
            <h1>Contractor Pay Estimator</h1>
            <p class="disclaimer">This tool provides an approximate estimation only and is not financial advice. Consult a professional for advice specific to your situation.</p>

        <div class="form-group">
            <label for="rate">Rate (ex GST)</label>
            <input type="number" id="rate" value="800">
        </div>
        <div class="form-group">
            <label for="rateType">Rate Type</label>
            <select id="rateType">
                <option value="hourly">Hourly</option>
                <option value="daily" selected>Daily</option>
                <option value="weekly">Weekly</option>
            </select>
        </div>

        <div class="form-group">
            <label for="startDate">Start Date</label>
            <input type="date" id="startDate">
        </div>
        <div class="form-group">
            <label for="endDate">End Date</label>
            <input type="date" id="endDate">
        </div>
        <div class="form-group">
            <label for="state">State/Territory</label>
            <select id="state">
                <option value="ACT">ACT</option>
                <option value="NSW">NSW</option>
                <option value="NT">NT</option>
                <option value="QLD">QLD</option>
                <option value="SA">SA</option>
                <option value="TAS">TAS</option>
                <option value="VIC">VIC</option>
                <option value="WA">WA</option>
            </select>
        </div>
        <div class="form-group">
            <label for="workingDays">Working Days in Period</label>
            <input type="number" id="workingDays" value="0" readonly>
        </div>
        <div class="form-group">
            <label for="holidayDays">Holiday Days Taken</label>
            <input type="number" id="holidayDays" value="0">
        </div>
        <div class="form-group" id="furloughContainer">
            <label>Furlough Periods</label>
            <div class="furlough-period">
                <input type="date" class="furlough-start">
                <input type="date" class="furlough-end">
                <button type="button" class="remove-furlough">Remove</button>
            </div>
            <button type="button" id="addFurlough">Add Furlough Period</button>
        </div>

        <div class="form-group">
            <label><input type="checkbox" id="collectGst" checked> Collect GST</label>
        </div>

        <div class="form-group">
            <label for="taxRate">Contractor Tax Rate (%)</label>
            <input type="number" id="taxRate" value="30">
            <small class="note">Approximate rate to set aside for tax.</small>
        </div>
        <div class="form-group">
            <label for="superRate">Super Rate (%)</label>
            <input type="number" id="superRate" value="11">
        </div>
        <div class="form-group">
            <label for="hecsRate">HECS Rate (%)</label>
            <input type="number" id="hecsRate" value="0">
        </div>

        <div class="form-group">
            <label for="hoursPerDay">Working Hours Per Day</label>
            <input type="number" id="hoursPerDay" value="7.2">
        </div>

        <div class="form-group">
            <label for="invoiceFreq">Invoice Frequency</label>
            <select id="invoiceFreq">
                <option value="weekly">Weekly</option>
                <option value="fortnightly">Fortnightly</option>
                <option value="monthly">Monthly</option>
                <option value="quarterly">Quarterly</option>
            </select>
        </div>
        <div class="form-group" id="invoiceDayGroup" style="display:none;">
            <label for="invoiceDay">Day of Month</label>
            <input type="number" id="invoiceDay" min="1" max="31" value="1">
        </div>

        <div class="actions">
            <button id="calculate">Calculate</button>
            <button id="copyLink">Copy Share Link</button>
            <button id="createLedger">Create Ledger</button>
        </div>
        <div id="error" class="error" hidden></div>
        </div>

        <div class="results-section">
            <div class="results" id="results" hidden>
                <h2>Results</h2>
                <table class="results-table">
                    <tbody>
                        <tr><th id="incomeLabel">Total income (ex GST)</th><td id="incomeTotal"></td></tr>
                        <tr><th>GST to set aside</th><td id="gstAmount"></td></tr>
                        <tr><th>Estimated tax to set aside</th><td id="taxAmount"></td></tr>
                        <tr><th>Super to set aside</th><td id="superAmount"></td></tr>
                        <tr><th>HECS to set aside</th><td id="hecsAmount"></td></tr>
                        <tr><th>Total furlough days</th><td id="totalFurloughDays"></td></tr>
                        <tr><th>Total hours worked</th><td id="totalHours"></td></tr>
                    </tbody>
                    <tfoot>
                        <tr class="total-row"><th>Approximate amount to bank</th><td id="netAmount"></td></tr>
                    </tfoot>
                </table>
                <details id="rateChange" class="rate-change">
                    <summary>Rate Change Calculator</summary>
                    <div class="rate-change-controls">
                        <button type="button" data-inc="-10">-10</button>
                        <button type="button" data-inc="-5">-5</button>
                        <button type="button" data-inc="-1">-1</button>
                        <span id="currentRate"></span>
                        <button type="button" data-inc="1">+1</button>
                        <button type="button" data-inc="5">+5</button>
                        <button type="button" data-inc="10">+10</button>
                    </div>
                    <div class="rate-change-controls">
                        <button type="button" data-pct="-1">-1%</button>
                        <button type="button" data-pct="-0.5">-0.5%</button>
                        <button type="button" data-pct="-0.25">-0.25%</button>
                        <span class="pct-label">% Change</span>
                        <button type="button" data-pct="0.25">+0.25%</button>
                        <button type="button" data-pct="0.5">+0.5%</button>
                        <button type="button" data-pct="1">+1%</button>
                        <button type="button" data-pct="2.5">CPI</button>
                    </div>
                    <p>New net amount: $<span id="changedNet"></span></p>
                    <p>Change: <span id="rateChangePercent"></span>%</p>
                </details>
            </div>
        </div>
    </div>

    <div id="ledgerModal" class="modal" hidden>
        <div class="modal-content">
            <button type="button" class="close" id="closeLedger">&times;</button>
            <h2>Ledger</h2>
            <table class="ledger-table">
                <thead>
                    <tr>
                        <th>Period</th>
                        <th>Income ex GST</th>
                        <th>GST</th>
                        <th>Income inc GST</th>
                        <th>Tax</th>
                        <th>Super</th>
                        <th>HECS</th>
                        <th>Net</th>
                    </tr>
                </thead>
                <tbody id="ledgerBody"></tbody>
                <tfoot>
                    <tr class="total-row">
                        <th>Total</th>
                        <td id="ledgerIncome"></td>
                        <td id="ledgerGst"></td>
                        <td id="ledgerIncomeInc"></td>
                        <td id="ledgerTax"></td>
                        <td id="ledgerSuper"></td>
                        <td id="ledgerHecs"></td>
                        <td id="ledgerNet"></td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
